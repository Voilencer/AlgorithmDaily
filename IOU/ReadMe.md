[TOC]

anchor框和ground truth框的交并比(intersection of uinion, IOU)

***



# 概述

## IOU

$$
IOU = \frac{A∩B}{A∪B}
$$



## GIOU

考虑了
$$
GIOU = IOU - \frac{C-(A∪B)}{C}
$$
式中，C是指包含A、B的最小闭合框

## DIOU

$$
DIOU = 1 - IOU + \frac{ρ(b,b^{gt})}{c^2}
$$

式中，b，b^gt^ 分别代表了anchor框和目标框的中心点，ρ是指两个中心点之间的欧氏距离，c是两个框的最小外接矩形的对角线距离。



## CIOU

$$
DIOU = 1 - IOU + \frac{ρ(b,b^{gt})}{c^2} + αv
$$

式中，
$$
v = \frac{4}{π^2}(arctan\frac{w^{gt}}{h^gt}-arctan\frac{w}{h})^2
$$

$$
α = \frac{v}{1-IOU+v^‘}
$$



## 对比

|      |                                        |                                                              |
| ---- | -------------------------------------- | ------------------------------------------------------------ |
| IOU  |                                        | 未相交的框，无法优化                                         |
| GIOU | 加入了包含检测框和目标框的最小包含矩形 | (1) 未相交的框，也可以优化<br />(2) 可以分辨框对齐方式<br />(3) 完全包含时，退化成IOU |
| DIOU | 加入了框之间的中心点距离               | (1) 未重叠时，仍然可以优化<br />(2) 可以直接优化距离，收敛快很多<br />(3) 完全包含时，也可以优化 |
| CIOU | 加入了长宽比                           |                                                              |



## 目标框回归损失三要素

* 重叠面积
* 中心点距离
* 长宽比



# 应用

* 目标检测